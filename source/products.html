{% paginate products from products.current by theme.products_per_page %}
  {% if products != blank %}
    <div class="product-list">
      {% for product in products %}
        <div class="product-list-item">
          <div class="product-list-item-container">
            <figure class="product-list-image-container">
              <a href="{{ product.url }}">
                <img class="{% if product.image.height > product.image.width %}image-tall{% else %}image-wide{% endif %}" src="{{ product.image | product_image_url | constrain: 1000 }}">
              </a>
            </figure>
          </div>
          <a href="{{ product.url }}">{{ product.name }}</a>
        </div>
      {% endfor %}
    </div>

    {% if paginate.pages > 1 %}
      {{ paginate | default_pagination }}
    {% endif %}

  {% else %}
    <p>No products found.</p>
  {% endif %}

{% endpaginate %}